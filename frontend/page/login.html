<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de Sesi√≥n - El Palacio</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/sesion.css?v=20251017">
    <!-- Agregar estilos del widget flotante de ayuda -->
    <link rel="stylesheet" href="../css/ayuda-flotante.css">
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand" href="../page/index.html">El Palacio</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index.html#carta">Carta</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index.html#reservas">Reservas</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="index.html#contacto">Contacto</a>
                        </li>
                        <!-- Elemento din√°mico que mostrar√° el nombre del usuario o el icono de login -->
                        <li class="nav-item">
                            <a class="nav-link active" href="login.html" id="userLink">üë§</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Contenedor de login redise√±ado con estilo profesional y decorativo -->
    <main class="login-page">
        <div class="login-container">
            <!-- Decoraci√≥n superior -->
            <div class="decoration-top"></div>
            
            <div class="login-card">
                <!-- Removido emoji decorativo -->
                <h1>Iniciar Sesi√≥n</h1>
                <p class="subtitle">Bienvenido a El Palacio</p>
                
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <label for="username">Usuario</label>
                        <div class="input-wrapper">
                            <!-- Removido emoji, usando l√≠nea decorativa -->
                            <input 
                                type="text" 
                                id="username" 
                                placeholder="Tu usuario" 
                                required
                                autocomplete="username">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Contrase√±a</label>
                        <div class="input-wrapper">
                            <!-- Removido emoji -->
                            <input 
                                type="password" 
                                id="password" 
                                placeholder="Tu contrase√±a" 
                                required
                                autocomplete="current-password">
                        </div>
                    </div>
                    
                    <p id="errorMsg" class="error-message"></p>
                    
                    <button type="submit" class="btn-primary">Iniciar Sesi√≥n</button>
                </form>
                
                <div class="login-footer">
                    <p>¬øNo tienes una cuenta? <a href="registro.html">Reg√≠strate aqu√≠</a></p>
                </div>
            </div>
            
            <!-- Decoraci√≥n inferior -->
            <div class="decoration-bottom"></div>
        </div>
        
        <!-- Agregando overlay de animaci√≥n de carga y √©xito -->
        <!-- Added overlay with blur effect and loading animation -->
        <div id="loadingOverlay" class="loading-overlay">
            <div class="loading-container">
                <div id="loadingSpinner" class="loading-spinner"></div>
                <div id="successCheck" class="success-check hidden">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                </div>
                <p id="loadingText" class="loading-text">Iniciando sesi√≥n...</p>
            </div>
        </div>
    </main>

    <footer id="contacto" class="footer">
        <div class="container text-center">
            <p>¬© 2025 El Palacio. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Agregar widget flotante de ayuda -->
    <!-- Bot√≥n flotante -->
    <button id="boton-ayuda-flotante" title="¬øNecesita ayuda?">üí¨</button>

    <!-- Widget de ayuda expandido -->
    <div id="widget-ayuda-flotante">
      <div class="widget-header">
        <h3>¬øNecesita ayuda?</h3>
        <p>Cont√°ctenos si tiene alguna pregunta</p>
        <button id="cerrar-widget-ayuda">‚úï</button>
      </div>
      <div class="widget-content">
        <!-- WhatsApp -->
        <a href="https://wa.me/598XXXXXXXXX?text=Hola%20El%20Palacio%2C%20tengo%20una%20consulta" target="_blank" class="opcion-contacto">
          <div class="opcion-icono">üì±</div>
          <div class="opcion-info">
            <h4>WhatsApp</h4>
            <p>El Palacio - Consultas</p>
          </div>
        </a>

        <!-- Instagram -->
        <a href="https://instagram.com/elpalacio" target="_blank" class="opcion-contacto">
          <div class="opcion-icono">üì∑</div>
          <div class="opcion-info">
            <h4>Instagram</h4>
            <p>@elpalacio</p>
          </div>
        </a>

        <!-- Tel√©fono -->
        <a href="tel:45229753" class="opcion-contacto">
          <div class="opcion-icono">‚òéÔ∏è</div>
          <div class="opcion-info">
            <h4>Tel√©fono</h4>
            <p>4522 9753</p>
          </div>
        </a>

        <!-- Email -->
        <a href="mailto:reservas@elpalacio.com" class="opcion-contacto">
          <div class="opcion-icono">‚úâÔ∏è</div>
          <div class="opcion-info">
            <h4>Email</h4>
            <p>reservas@elpalacio.com</p>
          </div>
        </a>
      </div>
    </div>

    <script src="../js/usuario.js"></script>
    <script src="../js/navbar.js"></script>
    <!-- Agregar script del widget flotante -->
    <script src="../js/ayuda-flotante.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>
    <script>
        // Script to dynamically update the navbar link based on user login status
        document.addEventListener('DOMContentLoaded', function() {
            const userLink = document.getElementById('userLink');
            const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';

            if (isLoggedIn) {
                const username = localStorage.getItem('username');
                userLink.textContent = username;
                userLink.href = "perfil.html";
            } else {
                userLink.textContent = 'üë§';
                userLink.href = "login.html";
            }
        });
    </script>
</body>

</html>
